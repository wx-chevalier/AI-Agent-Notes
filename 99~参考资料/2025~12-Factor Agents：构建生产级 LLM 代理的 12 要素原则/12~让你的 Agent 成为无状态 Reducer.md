# 让你的 Agent 成为无状态 Reducer

本原则鼓励将 LLM 代理设计为无状态处理器，每次只依赖输入和外部状态生成输出，无需在交互间维护内部长期记忆。所有持久状态应交由外部存储（如数据库、消息队列）管理。这种模式提升了可扩展性、弹性和水平扩展能力，任何代理实例都能处理任意请求，单实例故障也不会丢失数据。

![让你的 Agent 成为无状态 Reducer](https://apframework.com/static/images/2025-07-08-12-Factor-Agents/image%2012.png)

## **理解笔记**

构建 Agent 过程中，采用无状态的纯函数的转换器方式，更能满足扩展、测试等需求。

- Agent 应设计为无状态的"Reducer"，每次只依赖输入和外部状态，输出结果。
- 将所有持久化状态交由外部存储系统管理，提升系统弹性和可扩展性。
- 无状态设计有助于水平扩展和故障恢复，是生产级 Agent 的基础。
